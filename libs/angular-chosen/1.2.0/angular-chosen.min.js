/**
 * angular-chosen-localytics - Angular Chosen directive is an AngularJS Directive that brings the Chosen jQuery in a Angular way
 * @version v1.2.0
 * @link http://github.com/leocaseiro/angular-chosen
 * @license MIT
 */
(function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("localytics.directives",[]),angular.module("localytics.directives").directive("chosen",["$timeout",function(t){var r,n,i,a;return n=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,r=["noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width"],a=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})},i=function(e){var t;if(angular.isArray(e))return 0===e.length;if(angular.isObject(e))for(t in e)if(e.hasOwnProperty(t))return!1;return!0},{restrict:"A",require:"?ngModel",priority:1,link:function(s,l,o,d){var u,c,h,f,g,p,b,v,y,w,x,m,O;return s.disabledValuesHistory=s.disabledValuesHistory?s.disabledValuesHistory:[],l=$(l),l.addClass("localytics-chosen"),b=s.$eval(o.chosen)||{},angular.forEach(o,function(t,n){return e.call(r,n)>=0?b[a(n)]="{{"===String(l.attr(o.$attr[n])).slice(0,2)?t:s.$eval(t):void 0}),w=function(){var e,t;return e={},t=!1,angular.forEach(s.disabledValuesHistory,function(e){e.hasOwnProperty(l.context.id)&&(e[l.context.id]=l.context.disabled,t=!0)}),t||(e[l.context.id]=l.context.disabled,s.disabledValuesHistory.push(e)),l.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},x=function(){var e;return e=!1,angular.forEach(s.disabledValuesHistory,function(t){e=t.hasOwnProperty(l.context.id)?t[l.context.id]:e}),l.removeClass("loading").attr("disabled",e).trigger("chosen:updated")},u=null,c=null,f=!1,g=function(){return u?l.trigger("chosen:updated"):(u=l.chosen(b).data("chosen"),angular.isObject(u)?c=u.default_text:void 0)},y=function(){return f=!1,l.attr("data-placeholder",c).trigger("chosen:updated")},h=function(){return f=!0,l.attr("data-placeholder",u.results_none_found).attr("disabled",!0).trigger("chosen:updated")},d?(v=d.$render,d.$render=function(){return v(),g()},o.multiple&&(O=function(){return d.$viewValue},s.$watch(O,d.$render,!0))):g(),o.$observe("disabled",function(){return l.trigger("chosen:updated")}),o.ngOptions&&d?(p=o.ngOptions.match(n),m=p[7],s.$watchCollection(m,function(e,r){var n;return n=t(function(){return angular.isUndefined(e)?w():(f&&y(),x(),i(e)&&!o.allowEmptyResultsList?h():void 0)})}),s.$on("$destroy",function(e){return"undefined"!=typeof timer&&null!==timer?t.cancel(timer):void 0})):void 0}}}])}).call(this);